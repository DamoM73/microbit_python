<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Micro:bit Radio" href="11_radio.html" /><link rel="prev" title="Micro:bit Touch Sensor" href="09_touch.html" />

    <link rel="shortcut icon" href="_static/microbit_python_logo.ico"/><!-- Generated with Sphinx 6.2.1 and Furo 2023.03.27 -->
        <title>Micro:bit Sound - Python meets micro:bit</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --font-stack: gill sans, sans-serif;
  --font-stack--monospace: monaco, monospace;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Python meets micro:bit</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/microbit_python_logo.jpg" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Python meets micro:bit</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="00_introduction.html">Introduction for Teachers</a></li>
<li class="toctree-l1"><a class="reference internal" href="01_getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_first_program.html">Your First Program</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_display.html">Micro:bit Display</a></li>
<li class="toctree-l1"><a class="reference internal" href="04_buttons.html">Micro:bit Buttons</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_accelerometer.html">Micro:bit Accelerometer</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_temperature.html">Micro:bit Temperature Sensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="07_light.html">Micro:bit Light Sensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="08_compass.html">Micro:bit Compass Sensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="09_touch.html">Micro:bit Touch Sensor</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Micro:bit Sound</a></li>
<li class="toctree-l1"><a class="reference internal" href="11_radio.html">Micro:bit Radio</a></li>
<li class="toctree-l1"><a class="reference internal" href="12_piicodev_intro.html">PiicoDev Intro</a></li>
<li class="toctree-l1"><a class="reference internal" href="13_piicodev_atmosphere.html">PiicoDev Atmospheric Sensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="14_piicodev_colour.html">PiicoDev Colour Sensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="15_piicodev_distance.html">PiicoDev Distance Sensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="16_piicodev_potentiometer.html">PiicoDev Potentiometers</a></li>
<li class="toctree-l1"><a class="reference internal" href="17_piicodev_oled.html">PiicoDev OLED Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="18_glowbit.html">Glowbit Rainbow</a></li>
<li class="toctree-l1"><a class="reference internal" href="97_debugging.html">Debugging with Thonny</a></li>
<li class="toctree-l1"><a class="reference internal" href="98_exercise_solutions.html">Exercise Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="99_licencing.html">Licensing</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="micro-bit-sound">
<h1>Micro:bit Sound<a class="headerlink" href="#micro-bit-sound" title="Permalink to this heading">#</a></h1>
<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/r53PjFwyAhw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<p>MicroPython on the BBC micro:bit comes with a powerful music and sound module, which can drive the micro:bit 2 speaker.</p>
<div class="important admonition">
<p class="admonition-title">Documentation</p>
<p>All the sound functions can be found across the <strong><a class="reference external" href="https://microbit-micropython.readthedocs.io/en/v2-docs/music.html">BBC micro:bit MicroPython music documentation</a></strong>, <strong><a class="reference external" href="https://microbit-micropython.readthedocs.io/en/v2-docs/speech.html">BBC micro:bit MicroPython speech documentation</a></strong>, and <strong><a class="reference external" href="https://microbit-micropython.readthedocs.io/en/v2-docs/microphone.html">BBC micro:bit MicroPython speech documentation</a></strong>.</p>
</div>
<section id="music">
<h2>Music<a class="headerlink" href="#music" title="Permalink to this heading">#</a></h2>
<div class="important admonition">
<p class="admonition-title">Music</p>
<p>Full details can be found at the <strong><a class="reference external" href="https://microbit-micropython.readthedocs.io/en/latest/music.html#module-music">BBC micro:bit MicroPython Music documentation</a></strong>.</p>
</div>
<p>MicroPython on the BBC micro:bit comes with a powerful music and sound module. It’s very easy to generate bleeps and bloops from the device using the speaker.</p>
<section id="built-in-tunes">
<h3>Built-in tunes<a class="headerlink" href="#built-in-tunes" title="Permalink to this heading">#</a></h3>
<p>Notice that we import the music module. It contains methods used to make and control sound. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># built-in tunes example</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="kn">import</span> <span class="nn">music</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="n">music</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">music</span><span class="o">.</span><span class="n">NYAN</span><span class="p">)</span>
</pre></div>
</div>
<p>MicroPython has quite a lot of built-in melodies: <strong><a class="reference external" href="https://microbit-micropython.readthedocs.io/en/latest/music.html#built-in-melodies">here is the complete list</a></strong>.</p>
</section>
<section id="custom-tunes">
<h3>Custom Tunes<a class="headerlink" href="#custom-tunes" title="Permalink to this heading">#</a></h3>
<p>Creating your own tunes is easy!</p>
<p>Each <strong>note</strong> has a name (like C# or F), an <strong>octave</strong> (telling MicroPython how high or low the note should be played) and a <strong>duration</strong> (how long it lasts through time).</p>
<p><strong>Octaves</strong> are indicated by a number ~ 0 is the lowest octave, 4 contains middle C and 8 is about as high as you’ll ever need unless you’re making music for dogs.</p>
<p><strong>Durations</strong> are also expressed as numbers. The higher the value of the duration the longer it will last. Such values are related to each other - for instance, a duration of 4 will last twice as long as a duration 2 (and so on).</p>
<p>If you use the note name <strong>R</strong> then MicroPython will play a rest (i.e. silence) for the specified duration.</p>
<p>Each note is expressed as a string of characters like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">NOTE</span><span class="p">[</span><span class="n">octave</span><span class="p">][:</span><span class="n">duration</span><span class="p">]</span>
</pre></div>
</div>
<p>For example, <code class="docutils literal notranslate"><span class="pre">&quot;A1:4&quot;``</span> <span class="pre">refers</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">note</span> <span class="pre">named</span> </code>A<code class="docutils literal notranslate"><span class="pre">in</span> <span class="pre">octave</span> <span class="pre">number</span></code>1<code class="docutils literal notranslate"><span class="pre">to</span> <span class="pre">be</span> <span class="pre">played</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">duration</span> <span class="pre">of</span></code>4`.</p>
<p>Make a list of notes to create a melody (it’s equivalent to creating an animation with a list of images). For example, here’s how to make MicroPython play opening of “Frere Jaques”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># custom music example</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="kn">import</span> <span class="nn">music</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="n">tune</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;C4:4&quot;</span><span class="p">,</span> <span class="s2">&quot;D4:4&quot;</span><span class="p">,</span> <span class="s2">&quot;E4:4&quot;</span><span class="p">,</span> <span class="s2">&quot;C4:4&quot;</span><span class="p">,</span> <span class="s2">&quot;C4:4&quot;</span><span class="p">,</span> <span class="s2">&quot;D4:4&quot;</span><span class="p">,</span> <span class="s2">&quot;E4:4&quot;</span><span class="p">,</span> <span class="s2">&quot;C4:4&quot;</span><span class="p">,</span>
<span class="linenos">6</span>        <span class="s2">&quot;E4:4&quot;</span><span class="p">,</span> <span class="s2">&quot;F4:4&quot;</span><span class="p">,</span> <span class="s2">&quot;G4:8&quot;</span><span class="p">,</span> <span class="s2">&quot;E4:4&quot;</span><span class="p">,</span> <span class="s2">&quot;F4:4&quot;</span><span class="p">,</span> <span class="s2">&quot;G4:8&quot;</span><span class="p">]</span>
<span class="linenos">7</span><span class="n">music</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">tune</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="sound-effects">
<h3>Sound Effects<a class="headerlink" href="#sound-effects" title="Permalink to this heading">#</a></h3>
<p>MicroPython lets you make tones that are not musical notes. For example, here’s how to create a Police siren effect:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># sound effects example</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="kn">import</span> <span class="nn">music</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="linenos">6</span>    <span class="k">for</span> <span class="n">freq</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">880</span><span class="p">,</span> <span class="mi">1760</span><span class="p">,</span> <span class="mi">16</span><span class="p">):</span>
<span class="linenos">7</span>        <span class="n">music</span><span class="o">.</span><span class="n">pitch</span><span class="p">(</span><span class="n">freq</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="linenos">8</span>    <span class="k">for</span> <span class="n">freq</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1760</span><span class="p">,</span> <span class="mi">880</span><span class="p">,</span> <span class="o">-</span><span class="mi">16</span><span class="p">):</span>
<span class="linenos">9</span>        <span class="n">music</span><span class="o">.</span><span class="n">pitch</span><span class="p">(</span><span class="n">freq</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice how the <code class="docutils literal notranslate"><span class="pre">music.pitch</span></code> method is used in this instance. It expects a frequency. For example, the frequency of <code class="docutils literal notranslate"><span class="pre">440</span></code> is the same as a concert A used to tune a symphony orchestra.</p>
</section>
</section>
<section id="speech">
<h2>Speech<a class="headerlink" href="#speech" title="Permalink to this heading">#</a></h2>
<p>Computers and robots that talk feel more “human”. Getting the micro:bit talk to you is one way to express information in a fun, efficient and useful way. To this end, the micro:bit has integrated a simple speech synthesiser based upon a reverse-engineered version of a synthesiser from the early 1980s. It sounds very cute, in an “all humans must die” sort of a way.</p>
<div class="important admonition">
<p class="admonition-title">Speech</p>
<p>Full details can be found at the <strong><a class="reference external" href="https://microbit-micropython.readthedocs.io/en/latest/speech.html">BBC micro:bit MicroPython Speech documentation</a></strong>.</p>
</div>
<section id="say">
<h3>Say<a class="headerlink" href="#say" title="Permalink to this heading">#</a></h3>
<p>The simplest way to get the device to speak is to import the speech module and use the say function like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># speech example</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="kn">import</span> <span class="nn">speech</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="n">speech</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;Hello, World&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>While this is cute it’s certainly not DALEK enough for our taste, so we need to change some of the parameters that the speech synthesiser uses to produce the voice. Our speech synthesiser is quite powerful in this respect because we can change four parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pitch</span></code> - how high or low the voice sounds (0 = high, 255 = Barry White)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">speed</span></code> - how quickly the device talks (0 = impossible, 255 = bedtime story)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mouth</span></code> - how tight-lipped or overtly enunciating the voice sounds (0 = ventriloquist’s dummy, 255 = Foghorn Leghorn)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">throat</span></code> - how relaxed or tense is the tone of voice (0 = falling apart, 255 = totally chilled)</p></li>
</ul>
<p>Collectively, these parameters control the quality of sound - a.k.a. the timbre. To be honest, the best way to get the tone of voice you want is to experiment, use your judgement and adjust.</p>
<p>To adjust the settings you pass them in as arguments to the say function. <strong><a class="reference external" href="https://microbit-micropython.readthedocs.io/en/latest/speech.html#timbre">More details can be found in the speech module’s API documentation</a></strong>.</p>
<p>After some experimentation we’ve worked out this sounds quite DALEK-esque:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># speech detailed example</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="kn">import</span> <span class="nn">speech</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="n">speech</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s2">&quot;I am a DALEK - EXTERMINATE&quot;</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span> <span class="n">pitch</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">throat</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">mouth</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="pronounce">
<h3>Pronounce<a class="headerlink" href="#pronounce" title="Permalink to this heading">#</a></h3>
<p>You’ll notice that sometimes, the say function doesn’t accurately translate from English words into the correct sound. To have fine grained control of the output, use phonemes: the building-block sounds of language.</p>
<p>The advantage of using phonemes is that you don’t have to know how to spell! Rather, you only have to know how to say the word in order to spell it phonetically.</p>
<p>A <strong><a class="reference external" href="https://microbit-micropython.readthedocs.io/en/latest/speech.html#phonemes">full list of the phonemes</a></strong> the speech synthesiser understands can be found in the API documentation for speech. Alternatively, save yourself a lot of time by passing in English words to the <strong><a class="reference external" href="https://microbit-micropython.readthedocs.io/en/latest/speech.html#speech.translate">translate function</a></strong>. It’ll return a first approximation of the phonemes it would use to generate the audio. This result can be hand-edited to improve the accuracy, inflection and emphasis (so it sounds more natural).</p>
<p>The pronounce function is used for phoneme output like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># pronounce example</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="kn">import</span> <span class="nn">speech</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="n">speech</span><span class="o">.</span><span class="n">pronounce</span><span class="p">(</span><span class="s2">&quot;/HEH5EH4EH3EH2EH2EH3EH4EH5EHLP.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>By changing the pitch setting and calling the sing function it’s possible to make the device sing (although it’s not going to win Eurovision any time soon).</p>
<p>The mapping from pitch numbers to musical notes is shown below:</p>
</section>
<section id="sing">
<h3>Sing<a class="headerlink" href="#sing" title="Permalink to this heading">#</a></h3>
<p>By changing the pitch setting and calling the sing function it’s possible to make the device sing (although it’s not going to win Eurovision any time soon).</p>
<p>The mapping from pitch numbers to musical notes is shown below:</p>
<p><img alt="speech-pitch" src="_images/speech-pitch.jpg" /></p>
<p>Annotations work by pre-pending a hash (#) sign and the pitch number in front of the phoneme. The pitch will remain the same until a new annotation is given. For example, make MicroPython sing a scale like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># sing example</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kn">import</span> <span class="nn">speech</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="n">solfa</span> <span class="o">=</span> <span class="p">[</span>
<span class="linenos"> 6</span>    <span class="s2">&quot;#115DOWWWWWW&quot;</span><span class="p">,</span>   <span class="c1"># Doh</span>
<span class="linenos"> 7</span>    <span class="s2">&quot;#103REYYYYYY&quot;</span><span class="p">,</span>   <span class="c1"># Re</span>
<span class="linenos"> 8</span>    <span class="s2">&quot;#94MIYYYYYY&quot;</span><span class="p">,</span>    <span class="c1"># Mi</span>
<span class="linenos"> 9</span>    <span class="s2">&quot;#88FAOAOAOAOR&quot;</span><span class="p">,</span>  <span class="c1"># Fa</span>
<span class="linenos">10</span>    <span class="s2">&quot;#78SOHWWWWW&quot;</span><span class="p">,</span>    <span class="c1"># Soh</span>
<span class="linenos">11</span>    <span class="s2">&quot;#70LAOAOAOAOR&quot;</span><span class="p">,</span>  <span class="c1"># La</span>
<span class="linenos">12</span>    <span class="s2">&quot;#62TIYYYYYY&quot;</span><span class="p">,</span>    <span class="c1"># Ti</span>
<span class="linenos">13</span>    <span class="s2">&quot;#58DOWWWWWW&quot;</span><span class="p">,</span>    <span class="c1"># Doh</span>
<span class="linenos">14</span><span class="p">]</span>
<span class="linenos">15</span><span class="n">song</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">solfa</span><span class="p">)</span>
<span class="linenos">16</span><span class="n">speech</span><span class="o">.</span><span class="n">sing</span><span class="p">(</span><span class="n">song</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>In order to sing a note for a certain duration extend the note by repeating vowel or voiced consonant phonemes (as demonstrated in the example above). Beware diphthongs - to extend them you need to break them into their component parts. For example, “OY” can be extended with “OHOHIYIYIY”.</p>
<p>Experimentation, listening carefully and adjusting is the only sure way to work out how many times to repeat a phoneme so the note lasts for the desired duration.</p>
</section>
</section>
<section id="microphone">
<h2>Microphone<a class="headerlink" href="#microphone" title="Permalink to this heading">#</a></h2>
<p>The built-in microphone available on the micro:bit V2 can be used to respond to sound.</p>
<div class="important admonition">
<p class="admonition-title">Microphone</p>
<p>All the Microphone functions can be found in the <strong><a class="reference external" href="https://microbit-micropython.readthedocs.io/en/v2-docs/microphone.html">BBC micro:bit MicroPython Microphone documentation</a></strong>.</p>
</div>
<p>The microphone input is located on the front of the board alongside a microphone activity LED, which is lit when the microphone is in use.</p>
<p><img alt="microphone location" src="_images/microphone.png" /></p>
<section id="sound-events">
<h3>Sound Events<a class="headerlink" href="#sound-events" title="Permalink to this heading">#</a></h3>
<p>The microphone can respond to a pre-defined set of sound events that are based on the amplitude and wavelength of the sound.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">microbit.SoundEvent.QUIET</span></code> → transition of sound events from loud to quiet like speaking or background music.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">microbit.SoundEvent.LOUD</span></code> → transition of sound events, from quiet to loud like clapping or shouting.</p></li>
</ul>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># microphone sound event example</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="kn">from</span> <span class="nn">microbit</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="linenos"> 6</span>    <span class="k">if</span> <span class="n">microphone</span><span class="o">.</span><span class="n">current_event</span><span class="p">()</span> <span class="o">==</span> <span class="n">SoundEvent</span><span class="o">.</span><span class="n">LOUD</span><span class="p">:</span>
<span class="linenos"> 7</span>        <span class="n">display</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">HEART</span><span class="p">)</span>
<span class="linenos"> 8</span>        <span class="n">sleep</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
<span class="linenos"> 9</span>    <span class="k">if</span> <span class="n">microphone</span><span class="o">.</span><span class="n">current_event</span><span class="p">()</span> <span class="o">==</span> <span class="n">SoundEvent</span><span class="o">.</span><span class="n">QUIET</span><span class="p">:</span>
<span class="linenos">10</span>        <span class="n">display</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">HEART_SMALL</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="sound-level">
<h3>Sound level<a class="headerlink" href="#sound-level" title="Permalink to this heading">#</a></h3>
<p>The microphone can also provide a reading of the sound pressure in the range of <code class="docutils literal notranslate"><span class="pre">0</span></code> - <code class="docutils literal notranslate"><span class="pre">255</span></code>.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># microphone example 2</span>
<span class="linenos">2</span>
<span class="linenos">3</span><span class="kn">from</span> <span class="nn">microbit</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos">4</span>
<span class="linenos">5</span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="linenos">6</span>    <span class="n">sound_level</span> <span class="o">=</span> <span class="n">microphone</span><span class="o">.</span><span class="n">sound_level</span><span class="p">()</span>
<span class="linenos">7</span>    <span class="n">display</span><span class="o">.</span><span class="n">scroll</span><span class="p">(</span><span class="n">sound_level</span><span class="p">)</span>
<span class="linenos">8</span>    <span class="n">sleep</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="sound-exercises">
<h2>Sound exercises<a class="headerlink" href="#sound-exercises" title="Permalink to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Create a program that plays an original tune</p></li>
<li><p>Create a program that sings the College Song</p></li>
<li><p>Create a program that turns lights up the display according to loudness of the sound in the microphone</p></li>
</ol>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="11_radio.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Micro:bit Radio</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="09_touch.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Micro:bit Touch Sensor</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Damien Murtagh
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/DamoM73/microbit_python" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Micro:bit Sound</a><ul>
<li><a class="reference internal" href="#music">Music</a><ul>
<li><a class="reference internal" href="#built-in-tunes">Built-in tunes</a></li>
<li><a class="reference internal" href="#custom-tunes">Custom Tunes</a></li>
<li><a class="reference internal" href="#sound-effects">Sound Effects</a></li>
</ul>
</li>
<li><a class="reference internal" href="#speech">Speech</a><ul>
<li><a class="reference internal" href="#say">Say</a></li>
<li><a class="reference internal" href="#pronounce">Pronounce</a></li>
<li><a class="reference internal" href="#sing">Sing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#microphone">Microphone</a><ul>
<li><a class="reference internal" href="#sound-events">Sound Events</a></li>
<li><a class="reference internal" href="#sound-level">Sound level</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sound-exercises">Sound exercises</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    </body>
</html>