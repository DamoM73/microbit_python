<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="PiicoDev Distance Sensor" href="15_piicodev_distance.html" /><link rel="prev" title="PiicoDev Atmospheric Sensor" href="13_piicodev_atmosphere.html" />

    <link rel="shortcut icon" href="_static/microbit_python_logo.ico"/><!-- Generated with Sphinx 4.5.0 and Furo 2022.12.07 -->
        <title>PiicoDev Colour Sensor - Python meets micro:bit</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=91d0f0d1c444bdcb17a68e833c7a53903343c195" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --font-stack: gill sans, sans-serif;
  --font-stack--monospace: monaco, monospace;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Python meets micro:bit</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/microbit_python_logo.jpg" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Python meets micro:bit</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="00_introduction.html">Introduction for Teachers</a></li>
<li class="toctree-l1"><a class="reference internal" href="01_getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_first_program.html">Your First Program</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_display.html">Micro:bit Display</a></li>
<li class="toctree-l1"><a class="reference internal" href="04_buttons.html">Micro:bit Buttons</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_accelerometer.html">Micro:bit Accelerometer</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_temperature.html">Micro:bit Temperature Sensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="07_light.html">Micro:bit Light Sensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="08_compass.html">Micro:bit Compass Sensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="09_touch.html">Micro:bit Touch Sensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="10_sound.html">Micro:bit Sound</a></li>
<li class="toctree-l1"><a class="reference internal" href="11_radio.html">Micro:bit Radio</a></li>
<li class="toctree-l1"><a class="reference internal" href="12_piicodev_intro.html">PiicoDev Intro</a></li>
<li class="toctree-l1"><a class="reference internal" href="13_piicodev_atmosphere.html">PiicoDev Atmospheric Sensor</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">PiicoDev Colour Sensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="15_piicodev_distance.html">PiicoDev Distance Sensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="16_piicodev_potentiometer.html">PiicoDev Potentiometers</a></li>
<li class="toctree-l1"><a class="reference internal" href="17_piicodev_oled.html">PiicoDev OLED Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="18_glowbit.html">Glowbit Rainbow</a></li>
<li class="toctree-l1"><a class="reference internal" href="97_debugging.html">Debugging with Thonny</a></li>
<li class="toctree-l1"><a class="reference internal" href="98_exercise_solutions.html">Exercise Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="99_licencing.html">Licensing</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="piicodev-colour-sensor">
<h1>PiicoDev Colour Sensor<a class="headerlink" href="#piicodev-colour-sensor" title="Permalink to this headline">#</a></h1>
<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/d6Ot4NlOBfo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<p>The PiicoDev Colour Sensor allows you to differentiate colour hues and classify objects based on their colour.</p>
<section id="colour-theory">
<h2>Colour Theory<a class="headerlink" href="#colour-theory" title="Permalink to this headline">#</a></h2>
<section id="red-green-blue">
<h3>Red, Green Blue<a class="headerlink" href="#red-green-blue" title="Permalink to this headline">#</a></h3>
<p>The <strong>Red</strong>, <strong>Green</strong>, <strong>Blue</strong> (<strong>RGB</strong>) colour model is an additive colour model, meaning that it mixes (adds) Red, Green and Blue light to create many colours. RGB is used for displaying the colours on the screen you are reading this article - each pixel emits a certain amount of Red, Green, and Blue light, which - when mixed - creates the colours you’re seeing.</p>
</section>
<section id="hue-saturation-value-brightness">
<h3>Hue, Saturation, Value (Brightness)<a class="headerlink" href="#hue-saturation-value-brightness" title="Permalink to this headline">#</a></h3>
<p><strong>Hue</strong> is a property that describes the colour of the colour - the colour’s identity - red, green, blue, yellow etc. Hue does not describe anything about how bright or intense the colour is.</p>
<p><strong>Saturation</strong> is the intensity of colour; A bright red has high saturation, as opposed to a reddish-grey, which has very low saturation.</p>
<p><strong>Value</strong> is the amount of light in a colour - A light red has a high value, a dark red has a low value. Usually, this is directly related to light; where there’s light there’s a high-value colour and the opposite in the shadow.</p>
<p>The HSV model is really useful for identifying or classifying colours because the hue property is the base colour. Hue is represented as an angle on a colour wheel, so you can identify a colour using a single variable - the angle. Referring to the colour wheel below, Red is described with a zero-angle, moving through to Green at 120 degrees, Blue at 240 degrees, and back to Red.</p>
<p><img alt="colour wheel with hue values" src="_images/colour-wheel.png" /></p>
</section>
</section>
<section id="getting-set-up">
<h2>Getting set up<a class="headerlink" href="#getting-set-up" title="Permalink to this headline">#</a></h2>
<section id="connect-the-piicodev-module-to-your-micro-bit">
<h3>Connect the PiicoDev module to your Micro:bit<a class="headerlink" href="#connect-the-piicodev-module-to-your-micro-bit" title="Permalink to this headline">#</a></h3>
<p>Plug your Micro:bit into the PiicoDev adapter (buttons LED matrix facing up), connect your module to the adapter via the PiicoDev cable and connect your Micro:bit to your computer with a USB lead.</p>
</section>
<section id="download-the-piicodev-modules-and-example-code">
<h3>Download the PiicoDev Modules and Example Code<a class="headerlink" href="#download-the-piicodev-modules-and-example-code" title="Permalink to this headline">#</a></h3>
<p>Create a new folder for this example. Then download the following files and save them to your new folder (Right Click &gt; “Save Link As”).</p>
<ul class="simple">
<li><p><strong><a class="reference external" href="https://raw.githubusercontent.com/CoreElectronics/CE-PiicoDev-Unified/main/min/PiicoDev_Unified.py"><code class="docutils literal notranslate"><span class="pre">PiicoDev_Unified.py</span></code></a></strong> - The PiicoDev Unified Libraries: Drives I2C communications for PiicoDev modules</p></li>
<li><p><strong><a class="reference external" href="https://raw.githubusercontent.com/CoreElectronics/CE-PiicoDev-VEML6040-MicroPython-Module/main/min/PiicoDev_VEML6040.py"><code class="docutils literal notranslate"><span class="pre">PiicoDev_VEML6040.py</span></code></a></strong> - The device driver.</p></li>
<li><p><strong><a class="reference external" href="https://raw.githubusercontent.com/CoreElectronics/CE-PiicoDev-VEML6040-MicroPython-Module/main/main.py"><code class="docutils literal notranslate"><span class="pre">main.py</span></code></a></strong> - an example script for this PiicoDev Sensor</p></li>
</ul>
</section>
</section>
<section id="example-code">
<h2>Example code<a class="headerlink" href="#example-code" title="Permalink to this headline">#</a></h2>
<p>The PiicoDev Team has included two examples in the <code class="docutils literal notranslate"><span class="pre">main.py</span></code>.</p>
<p><strong>[Upload](12_piicodev_intro.md#Uploading to the micro:bit)</strong> <code class="docutils literal notranslate"><span class="pre">main.py</span></code> along with <code class="docutils literal notranslate"><span class="pre">PiicoDev_Unified.py</span></code> and <code class="docutils literal notranslate"><span class="pre">PiicoDev_VEML6040.py</span></code> to the micro:bit and then <strong>run</strong> it.</p>
<section id="example-1">
<h3>Example 1<a class="headerlink" href="#example-1" title="Permalink to this headline">#</a></h3>
<p>If you the <code class="docutils literal notranslate"><span class="pre">main.py</span></code> without making any changes you will get a printout reading of the RGB values being picked up by the sensor.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># PiicoDev VEML6040 minimal example code</span>
<span class="linenos"> 2</span><span class="c1"># This program reads light data from the PiicoDev VEML6040 Colour Sensor</span>
<span class="linenos"> 3</span><span class="c1"># Displays Raw Data, and classifies colours as fruits</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="kn">from</span> <span class="nn">PiicoDev_VEML6040</span> <span class="kn">import</span> <span class="n">PiicoDev_VEML6040</span>
<span class="linenos"> 6</span><span class="kn">from</span> <span class="nn">PiicoDev_Unified</span> <span class="kn">import</span> <span class="n">sleep_ms</span> <span class="c1"># cross-platform compatible sleep function</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="c1"># Associate a hue value with a fruit name</span>
<span class="linenos"> 9</span><span class="n">fruitList</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">10</span>    <span class="s2">&quot;apple&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="linenos">11</span>    <span class="s2">&quot;carrot&quot;</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span>
<span class="linenos">12</span>    <span class="s2">&quot;lime&quot;</span><span class="p">:</span><span class="mi">120</span>
<span class="linenos">13</span>    <span class="p">}</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="n">colourSensor</span> <span class="o">=</span> <span class="n">PiicoDev_VEML6040</span><span class="p">()</span> <span class="c1"># initialise the sensor</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="linenos">18</span>    <span class="c1">### Example 1: Print Raw RGB Data</span>
<span class="linenos">19</span>    <span class="n">data</span> <span class="o">=</span> <span class="n">colourSensor</span><span class="o">.</span><span class="n">readRGB</span><span class="p">()</span> <span class="c1"># Read the sensor (Colour space: Red Green Blue)</span>
<span class="linenos">20</span>    <span class="n">red</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;red&#39;</span><span class="p">]</span> <span class="c1"># extract the RGB information from data</span>
<span class="linenos">21</span>    <span class="n">grn</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;green&#39;</span><span class="p">]</span>
<span class="linenos">22</span>    <span class="n">blu</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;blue&#39;</span><span class="p">]</span>
<span class="linenos">23</span>    
<span class="linenos">24</span>    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">blu</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; Blue  &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">grn</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; Green  &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">red</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; Red&quot;</span><span class="p">)</span> <span class="c1"># Print the data. Printing as BGR so the Thonny plot-colours match nicely :)</span>
<span class="linenos">25</span>
<span class="linenos">26</span>    <span class="c1">### Example 2: Classify the colour being shown - eg. a fruit sorting machine</span>
<span class="linenos">27</span><span class="c1">#     data = colourSensor.readHSV() # Read the sensor (Colour space: Hue Saturation Value)</span>
<span class="linenos">28</span><span class="c1">#     hue = data[&#39;hue&#39;] # extract the Hue information from data</span>
<span class="linenos">29</span><span class="c1">#</span>
<span class="linenos">30</span><span class="c1">#     label = colourSensor.classifyHue() # Read the sensor again, this time classify the colour</span>
<span class="linenos">31</span><span class="c1">#     print(str(label) + &quot; Hue: &quot; + str(hue)) # Show the label and the corresponding hue</span>
<span class="linenos">32</span>
<span class="linenos">33</span>    <span class="n">sleep_ms</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<p>Exploring the important parts of that code:</p>
<ul class="simple">
<li><p><strong>line 6</strong>: imports all the commands for the atmospheric sensor from the PiicoDev_VEML6040 library</p></li>
<li><p><strong>line 7</strong>: import the <code class="docutils literal notranslate"><span class="pre">sleep_ms</span></code> command from the PiicoDev_Unified library and is used the same as <code class="docutils literal notranslate"><span class="pre">sleep</span></code></p></li>
<li><p><strong>line 15</strong>: labels the Colour Sensor as <code class="docutils literal notranslate"><span class="pre">sensor</span></code></p></li>
<li><p><strong>line 19</strong>: gets a reading from the sensor which returns a dictionary</p></li>
<li><p><strong>line 20</strong>: extracts the <strong>red</strong> value from the returned dictionary</p></li>
<li><p><strong>line 21</strong>: extracts the <strong>green</strong> value from the returned dictionary</p></li>
<li><p><strong>line 20</strong>: extracts the <strong>blue</strong> value from the returned dictionary</p></li>
<li><p><strong>line 24</strong>: prints the <strong>red</strong>, <strong>green</strong> and <strong>blue</strong> values</p></li>
</ul>
</section>
<section id="example-2">
<h3>Example 2<a class="headerlink" href="#example-2" title="Permalink to this headline">#</a></h3>
<p>Change the code in <code class="docutils literal notranslate"><span class="pre">main.py</span></code> to the same as the code below (make sure that the indentation of lines 27-30 is correct). This code will get a reading and classify what the sensor is looking at by using the values in the <code class="docutils literal notranslate"><span class="pre">fruitList</span></code>.</p>
<p><strong>[Upload](12_piicodev_intro.md#Uploading to the micro:bit)</strong> <code class="docutils literal notranslate"><span class="pre">main.py</span></code> along with <code class="docutils literal notranslate"><span class="pre">PiicoDev_Unified.py</span></code> and <code class="docutils literal notranslate"><span class="pre">PiicoDev_VEML6040.py</span></code> to the micro:bit and then <strong>run</strong> it.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># PiicoDev VEML6040 minimal example code</span>
<span class="linenos"> 2</span><span class="c1"># This program reads light data from the PiicoDev VEML6040 Colour Sensor</span>
<span class="linenos"> 3</span><span class="c1"># Displays Raw Data, and classifies colours as fruits</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="kn">from</span> <span class="nn">PiicoDev_VEML6040</span> <span class="kn">import</span> <span class="n">PiicoDev_VEML6040</span>
<span class="linenos"> 6</span><span class="kn">from</span> <span class="nn">PiicoDev_Unified</span> <span class="kn">import</span> <span class="n">sleep_ms</span> <span class="c1"># cross-platform compatible sleep function</span>
<span class="linenos"> 7</span>
<span class="linenos"> 8</span><span class="c1"># Associate a hue value with a fruit name</span>
<span class="linenos"> 9</span><span class="n">fruitList</span> <span class="o">=</span> <span class="p">{</span>
<span class="linenos">10</span>    <span class="s2">&quot;apple&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
<span class="linenos">11</span>    <span class="s2">&quot;carrot&quot;</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span>
<span class="linenos">12</span>    <span class="s2">&quot;lime&quot;</span><span class="p">:</span><span class="mi">120</span>
<span class="linenos">13</span>    <span class="p">}</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="n">colourSensor</span> <span class="o">=</span> <span class="n">PiicoDev_VEML6040</span><span class="p">()</span> <span class="c1"># initialise the sensor</span>
<span class="linenos">16</span>
<span class="linenos">17</span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<span class="linenos">18</span>    <span class="c1">### Example 1: Print Raw RGB Data</span>
<span class="linenos">19</span><span class="c1">#    data = colourSensor.readRGB() # Read the sensor (Colour space: Red Green Blue)</span>
<span class="linenos">20</span><span class="c1">#    red = data[&#39;red&#39;] # extract the RGB information from data</span>
<span class="linenos">21</span><span class="c1">#    grn = data[&#39;green&#39;]</span>
<span class="linenos">22</span><span class="c1">#    blu = data[&#39;blue&#39;]</span>
<span class="linenos">23</span>    
<span class="linenos">24</span><span class="c1">#    print(str(blu) + &quot; Blue  &quot; + str(grn) + &quot; Green  &quot; + str(red) + &quot; Red&quot;) # Print the data. Printing as BGR so the Thonny plot-colours match nicely :)</span>
<span class="linenos">25</span>
<span class="linenos">26</span>    <span class="c1">### Example 2: Classify the colour being shown - eg. a fruit sorting machine</span>
<span class="linenos">27</span>    <span class="n">data</span> <span class="o">=</span> <span class="n">colourSensor</span><span class="o">.</span><span class="n">readHSV</span><span class="p">()</span> <span class="c1"># Read the sensor (Colour space: Hue Saturation Value)</span>
<span class="linenos">28</span>    <span class="n">hue</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;hue&#39;</span><span class="p">]</span> <span class="c1"># extract the Hue information from data</span>
<span class="linenos">29</span>    <span class="n">label</span> <span class="o">=</span> <span class="n">colourSensor</span><span class="o">.</span><span class="n">classifyHue</span><span class="p">(</span><span class="n">fruitList</span><span class="p">)</span> <span class="c1"># Read the sensor again, this time classify the colour</span>
<span class="linenos">30</span>    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">label</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; Hue: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">hue</span><span class="p">))</span> <span class="c1"># Show the label and the corresponding hue</span>
<span class="linenos">31</span>
<span class="linenos">32</span>    <span class="n">sleep_ms</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<p>Exploring the important parts of that code:</p>
<ul class="simple">
<li><p><strong>line 6</strong>: imports all the commands for the atmospheric sensor from the PiicoDev_VEML6040 library</p></li>
<li><p><strong>line 7</strong>: import the <code class="docutils literal notranslate"><span class="pre">sleep_ms</span></code> command from the PiicoDev_Unified library and is used the same as <code class="docutils literal notranslate"><span class="pre">sleep</span></code></p></li>
<li><p><strong>line 15</strong>: labels the Colour Sensor as <code class="docutils literal notranslate"><span class="pre">sensor</span></code></p></li>
<li><p><strong>line 27</strong>: gets a HSV reading which returns a dictionary</p></li>
<li><p><strong>line 28</strong>: extract the hue value from the dictionary</p></li>
<li><p><strong>line 29</strong>: gets a hue reading and then returns the closest key from the provided dictionary</p>
<ul>
<li><p>if no dictionary is provided it will use a default dictionary of red, yellow, green, cyan, blue and magenta.</p></li>
</ul>
</li>
<li><p><strong>line 30</strong>: prints the results from the two readings</p></li>
</ul>
</section>
</section>
<section id="commands">
<h2>Commands<a class="headerlink" href="#commands" title="Permalink to this headline">#</a></h2>
<p>Below are the different commands available for the Atmospheric Sensor</p>
<section id="readrgb">
<h3><code class="docutils literal notranslate"><span class="pre">readRGB()</span></code><a class="headerlink" href="#readrgb" title="Permalink to this headline">#</a></h3>
<p>Returns a dictionary with the Red, Green &amp; Blue colour space.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Unit</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>red</p></td>
<td><p>float</p></td>
<td><p></p></td>
<td><p>Red reading</p></td>
</tr>
<tr class="row-odd"><td><p>green</p></td>
<td><p>float</p></td>
<td><p></p></td>
<td><p>Green reading</p></td>
</tr>
<tr class="row-even"><td><p>blue</p></td>
<td><p>float</p></td>
<td><p></p></td>
<td><p>Blue reading</p></td>
</tr>
<tr class="row-odd"><td><p>white</p></td>
<td><p>float</p></td>
<td><p>Lux</p></td>
<td><p>Ambient light</p></td>
</tr>
<tr class="row-even"><td><p>cct</p></td>
<td><p>float</p></td>
<td><p>K</p></td>
<td><p>Colour temperature</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="readhsv">
<h3><code class="docutils literal notranslate"><span class="pre">readHSV()</span></code><a class="headerlink" href="#readhsv" title="Permalink to this headline">#</a></h3>
<p>Returns a dictionary with the Hue Saturation Value colour space.</p>
<div class="table-wrapper colwidths-auto docutils container">
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Unit</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>hue</p></td>
<td><p>float</p></td>
<td><p></p></td>
<td><p>Hue reading</p></td>
</tr>
<tr class="row-odd"><td><p>sat</p></td>
<td><p>float</p></td>
<td><p></p></td>
<td><p>Saturation reading</p></td>
</tr>
<tr class="row-even"><td><p>val</p></td>
<td><p>float</p></td>
<td><p></p></td>
<td><p>Value reading</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="classifyhue-hues-min-brightness">
<h3>classifyHue(hues, min_brightness)<a class="headerlink" href="#classifyhue-hues-min-brightness" title="Permalink to this headline">#</a></h3>
<p>Returns a classification of the hue.</p>
<p>Default values:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">hues</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;red&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;yellow&quot;</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span>
    <span class="s2">&quot;green&quot;</span><span class="p">:</span><span class="mi">120</span><span class="p">,</span>
    <span class="s2">&quot;cyan&quot;</span><span class="p">:</span><span class="mi">180</span><span class="p">,</span>
    <span class="s2">&quot;blue&quot;</span><span class="p">:</span><span class="mi">240</span><span class="p">,</span>
    <span class="s2">&quot;magenta&quot;</span><span class="p">:</span><span class="mi">300</span>
    <span class="p">}</span>

<span class="n">min_brightness</span><span class="o">=</span><span class="mi">0</span>
</pre></div>
</div>
</section>
</section>
<section id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">#</a></h2>
<ol class="simple">
<li><p>Write a program that will print the full return dictionary of a <code class="docutils literal notranslate"><span class="pre">readRGB</span></code> every second</p></li>
<li><p>Write a program that will print the full return dictionary of a <code class="docutils literal notranslate"><span class="pre">readHSV</span></code> every second</p></li>
</ol>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="15_piicodev_distance.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">PiicoDev Distance Sensor</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="13_piicodev_atmosphere.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">PiicoDev Atmospheric Sensor</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Damien Murtagh
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/DamoM73/microbit_python" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">PiicoDev Colour Sensor</a><ul>
<li><a class="reference internal" href="#colour-theory">Colour Theory</a><ul>
<li><a class="reference internal" href="#red-green-blue">Red, Green Blue</a></li>
<li><a class="reference internal" href="#hue-saturation-value-brightness">Hue, Saturation, Value (Brightness)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#getting-set-up">Getting set up</a><ul>
<li><a class="reference internal" href="#connect-the-piicodev-module-to-your-micro-bit">Connect the PiicoDev module to your Micro:bit</a></li>
<li><a class="reference internal" href="#download-the-piicodev-modules-and-example-code">Download the PiicoDev Modules and Example Code</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example-code">Example code</a><ul>
<li><a class="reference internal" href="#example-1">Example 1</a></li>
<li><a class="reference internal" href="#example-2">Example 2</a></li>
</ul>
</li>
<li><a class="reference internal" href="#commands">Commands</a><ul>
<li><a class="reference internal" href="#readrgb"><code class="docutils literal notranslate"><span class="pre">readRGB()</span></code></a></li>
<li><a class="reference internal" href="#readhsv"><code class="docutils literal notranslate"><span class="pre">readHSV()</span></code></a></li>
<li><a class="reference internal" href="#classifyhue-hues-min-brightness">classifyHue(hues, min_brightness)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#exercises">Exercises</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    </body>
</html>